<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      
      <div class="card shadow-sm border-0 mb-4">
        <div class="card-body p-5 text-center">
          <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px; font-size: 2rem; font-weight: 800;">
            <%= @user.first_name[0].upcase %>
          </div>
          <h2 class="fw-bold"><%= @user.first_name %> <%= @user.last_name %></h2>
          <p class="text-muted mb-2">Habite à <strong><%= @user.city.name %></strong></p>
          <p class="badge bg-light text-dark border"><%= @user.age %> ans</p>

          <hr class="w-50 mx-auto my-4">
          
          <h5 class="fw-bold small text-uppercase text-muted">À propos</h5>
          <p class="text-secondary fst-italic"><%= @user.description.presence || "Aucune description renseignée." %></p>
          
          <% if logged_in? && current_user == @user %>
            <div class="mt-4">
              <%= link_to "Modifier mon profil", edit_user_path(@user), class: "btn btn-outline-primary px-4" %>
            </div>
          <% end %>
        </div>
      </div>

      <div class="card shadow-sm border-0">
        <div class="card-body p-4">
          <h5 class="fw-bold mb-3">Publications (<%= @user.gossips.count %>)</h5>
          <div class="list-group list-group-flush">
            <% if @user.gossips.any? %>
              <% @user.gossips.each do |gossip| %>
                <%= link_to gossip_path(gossip), class: "list-group-item list-group-item-action d-flex justify-content-between align-items-center px-0" do %>
                  <span class="text-truncate"><%= gossip.title %></span>
                  <small class="text-muted"><%= gossip.created_at.strftime("%d/%m/%Y") %></small>
                <% end %>
              <% end %>
            <% else %>
              <p class="text-muted small mb-0">Cet utilisateur n'a rien publié.</p>
            <% end %>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>